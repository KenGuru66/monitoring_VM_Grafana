# VictoriaMetrics
VM_PORT=8428
VM_RETENTION=6

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASS=changeme
# ВАЖНО: Замените localhost на реальный IP сервера для внешнего доступа
# Например: GRAFANA_URL=http://192.168.1.100:3000
GRAFANA_URL=http://localhost:3000

# API
API_PORT=8000
MAX_UPLOAD_SIZE=10737418240  # 10GB in bytes
JOB_TIMEOUT=86400  # Job timeout in seconds (24 hours default)
JOB_TTL_HOURS=24  # Auto-cleanup jobs older than this (hours)
WORKER_CONCURRENCY=4  # Number of parallel workers
WORK_DIR=/app/jobs  # Directory for CSV output files

# Web UI
WEB_PORT=3001
# ВАЖНО: Замените localhost на реальный IP сервера для внешнего доступа
# Например: VITE_API_URL=http://192.168.1.100:8000
VITE_API_URL=http://localhost:8000
VITE_GRAFANA_URL=http://localhost:3000

# Perf Watcher - автоматический парсинг Performance Dumps с SFTP
# Директория с dumps (для SFTP выгрузки с СХД)
PERF_DUMPS_DIR=/data/perf-dumps/dumps
# Задержка перед обработкой нового файла (секунды, ожидание завершения загрузки)
FILE_WAIT_SECONDS=30
# Удалять файлы после успешной обработки
DELETE_AFTER_PROCESS=true
# Размер батча метрик для отправки в VictoriaMetrics
BATCH_SIZE=100000
# Количество попыток при ошибке обработки
MAX_RETRIES=3
# Интервал периодического сканирования директории (секунды, backup для watchdog)
POLL_INTERVAL_SECONDS=60
