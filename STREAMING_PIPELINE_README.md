# üöÄ Streaming Pipeline: Huawei ‚Üí VictoriaMetrics

## ‚úÖ –ß–¢–û –£–õ–£–ß–®–ï–ù–û

–î–æ–±–∞–≤–ª–µ–Ω–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö ID** –º–µ—Ç—Ä–∏–∫ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤:

- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç **–í–°–ï** –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ ID (–Ω–µ —Ç–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ!)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ VictoriaMetrics –∫–∞–∫ `huawei_unknown_metric_*`
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö ID
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

---

## üéØ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –≤ VictoriaMetrics
python3 huawei_streaming_pipeline.py -i logs.zip
```

### –° –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
python3 huawei_streaming_pipeline.py -i logs.zip --monitor
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```bash
# –£–∫–∞–∑–∞—Ç—å URL VictoriaMetrics –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ workers
python3 huawei_streaming_pipeline.py \
    -i logs.zip \
    --vm-url http://vm-server:8428/api/v1/import/prometheus \
    --workers 16 \
    --batch-size 50000
```

---

## üìä –û–ë–†–ê–ë–û–¢–ö–ê UNKNOWN ID

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

Pipeline –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç** –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ ID –º–µ—Ç—Ä–∏–∫ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
2. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –∏—Ö –≤ VictoriaMetrics —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `unknown_`
3. **–õ–æ–≥–∏—Ä—É–µ—Ç** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ `streaming_pipeline.log`

### –§–æ—Ä–º–∞—Ç –º–µ—Ç—Ä–∏–∫ –≤ VictoriaMetrics

**–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
```
huawei_read_bandwidth_mb_s{Element="LUN001",Resource="LUN",SN="2102355THQFSQ"} 100.5 1697123456000
```

**–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
```
huawei_unknown_metric_12345{Element="Port1",Resource="UNKNOWN_RESOURCE_99999",SN="2102355THQFSQ"} 50.2 1697123456000
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ UNKNOWN

```bash
# –ü–æ–∏—Å–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö ID –≤ –ª–æ–≥–∞—Ö
grep -i "unknown.*IDs" streaming_pipeline.log

# –ò–ª–∏ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ
grep -A 2 "unknown resource IDs" streaming_pipeline.log
grep -A 2 "unknown metric IDs" streaming_pipeline.log
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
WARNING - Found 2 unknown resource IDs in file.dat: ['12345', '99999']
WARNING - Found 3 unknown metric IDs in file.dat: ['44444', '66666', '88888']
```

---

## üîÑ WORKFLOW: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥—É–ª—è—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
# –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å pipeline
python3 huawei_streaming_pipeline.py -i new_logs.zip --monitor

# –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
grep -i "unknown" streaming_pipeline.log

# –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ VM
curl "http://localhost:8428/api/v1/label/__name__/values" | grep unknown

# –ï—Å–ª–∏ UNKNOWN –Ω–∞–π–¥–µ–Ω—ã ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –°—Ü–µ–Ω–∞—Ä–∏—é 2
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–∞–π–¥–µ–Ω—ã –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ ID

```bash
# –®–∞–≥ 1: Pipeline —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∏–ª –¥–∞–Ω–Ω—ã–µ –≤ VM (–Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω–æ!)
# –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ huawei_unknown_metric_*

# –®–∞–≥ 2: –ò–∑–≤–ª–µ—á—å —Å–ø–∏—Å–æ–∫ UNKNOWN –∏–∑ VM
curl -s "http://localhost:8428/api/v1/label/__name__/values" | \
    grep -o "huawei_unknown_[^\"]*" | sort -u

# –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ CSV
# –û–ø—Ü–∏—è A: –í—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –≤ METRIC_DICT.py –∏ RESOURCE_DICT.py
# –û–ø—Ü–∏—è B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä —Å CSV –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π

# –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å pipeline (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
```

---

## üîç –ó–ê–ü–†–û–°–´ –í VICTORIAMETRICS

### –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –º–∞—Å—Å–∏–≤–∞

```promql
# –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –º–∞—Å—Å–∏–≤–∞
{SN="2102355THQFSQ"}

# –¢–æ–ª—å–∫–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
{SN="2102355THQFSQ", __name__=~"huawei_unknown_.*"}

# –¢–æ–ª—å–∫–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
{SN="2102355THQFSQ", __name__!~"huawei_unknown_.*"}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ UNKNOWN

```promql
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
count by(__name__) ({__name__=~"huawei_unknown_metric_.*"})

# –°–ø–∏—Å–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å UNKNOWN
count by(Resource) ({__name__=~"huawei_unknown_.*", Resource=~"UNKNOWN_.*"})
```

### –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

```promql
# –ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ 12345
huawei_unknown_metric_12345{SN="2102355THQFSQ"}

# –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ 99999
{SN="2102355THQFSQ", Resource="UNKNOWN_RESOURCE_99999"}
```

---

## üîß –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –û–ë–ù–û–í–õ–ï–ù–ò–ï–ú –°–õ–û–í–ê–†–ï–ô

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è UNKNOWN –≤ –ª–æ–≥–∞—Ö:

1. **–ù–∞–π–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Huawei
2. **–î–æ–±–∞–≤—å—Ç–µ –≤ —Å–ª–æ–≤–∞—Ä–∏:**

```python
# METRIC_DICT.py
"12345": "NVMe Read Latency (us)",

# RESOURCE_DICT.py
"99999": "NVMe Port",
```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ** pipeline –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ CSV –ø–∞—Ä—Å–µ—Ä

```bash
# –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å CSV –ø–∞—Ä—Å–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ UNKNOWN
python3 Data2csv/Huawei_perf_parser_v0.2_parallel.py \
    -i logs.zip \
    -o output_csv \
    --all-metrics

# –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
cd Data2csv
python3 update_dictionaries.py ../output_csv --auto

# –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å streaming pipeline
cd ..
python3 huawei_streaming_pipeline.py -i logs.zip
```

---

## üìà –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### –ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è |
|----------|--------------|--------------|
| **–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ ID** | ‚ùå –ü–æ—Ç–µ—Ä—è–Ω—ã | ‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ VM |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚ùå –ù–µ—Ç | ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ WARNING |
| **–î–∞–Ω–Ω—ã–µ** | ‚ùå –ù–µ–ø–æ–ª–Ω—ã–µ | ‚úÖ –ü–æ–ª–Ω—ã–µ (100%) |
| **–ê–Ω–∞–ª–∏–∑** | ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–µ–Ω | ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –≤ VM |

### Streaming –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- ‚ö° **–ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö CSV** (—ç–∫–æ–Ω–æ–º–∏—è –¥–∏—Å–∫–∞)
- ‚ö° **–ú–∏–Ω–∏–º—É–º –ø–∞–º—è—Ç–∏** (streaming –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ** (–ø—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ VM)
- ‚ö° **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (.tgz —Ñ–∞–π–ª–æ–≤)

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

Pipeline –≤—ã–≤–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

```
[Worker 12345] Processing PerfData_OceanStorDorado6000V6_...
[Worker 12345] ‚úÖ file.tgz: 125,432 metrics in 12.3s (10,200 m/s)
```

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

```
================================================================================
‚úÖ STREAMING PIPELINE COMPLETED
================================================================================
üìä Results:
   Files processed: 192/192
   Metrics sent:    12,543,234
   Batches sent:    126
   Total time:      145.2s (2.4 min)
   Throughput:      86,382 metrics/sec
   Array SN:        2102355THQFSQ

üí° Tip: Check logs for 'unknown.*IDs' to find any missing metrics/resources
   grep -i 'unknown.*IDs' streaming_pipeline.log
================================================================================
```

### –° —Ñ–ª–∞–≥–æ–º --monitor

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

```
üìä RESOURCE USAGE REPORT
üíæ Memory:
   Start:   0.15 GB
   Current: 0.18 GB
   Peak:    0.25 GB
   Delta:   +0.03 GB

üíª CPU:
   Usage:   45.2%
   Cores:   16
```

---

## üõ†Ô∏è –ü–ê–†–ê–ú–ï–¢–†–´ –ö–û–ú–ê–ù–î–ù–û–ô –°–¢–†–û–ö–ò

```bash
python3 huawei_streaming_pipeline.py -h
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `-i, --input` | ZIP –∞—Ä—Ö–∏–≤ —Å .tgz —Ñ–∞–π–ª–∞–º–∏ | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** |
| `--vm-url` | VictoriaMetrics endpoint | `http://localhost:8428/api/v1/import/prometheus` |
| `--batch-size` | –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (–º–µ—Ç—Ä–∏–∫) | `100000` |
| `-w, --workers` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ workers | `CPU - 2` |
| `--all-metrics` | –ü–∞—Ä—Å–∏—Ç—å –í–°–ï –º–µ—Ç—Ä–∏–∫–∏ | `True` |
| `--monitor` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | `False` |

---

## üîÑ –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨

### –° CSV –ø–∞—Ä—Å–µ—Ä–æ–º

Streaming pipeline –∏ CSV –ø–∞—Ä—Å–µ—Ä –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–ª–æ–≤–∞—Ä–∏**:
- `Data2csv/METRIC_DICT.py` (743 –º–µ—Ç—Ä–∏–∫–∏)
- `Data2csv/RESOURCE_DICT.py` (51 —Ä–µ—Å—É—Ä—Å)

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π —á–µ—Ä–µ–∑ CSV –ø–∞—Ä—Å–µ—Ä, streaming pipeline **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∏–º–µ–Ω–∞.

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –°—Ç–∞—Ä—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- ‚úÖ –ù–æ–≤—ã–µ UNKNOWN –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ VictoriaMetrics –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

---

## üí° BEST PRACTICES

### 1. –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
grep -i "unknown" streaming_pipeline.log | tail -20

# –ò–ª–∏ —á–µ—Ä–µ–∑ systemd journal (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
journalctl -u huawei-streaming -g unknown
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ UNKNOWN –≤ Grafana

–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–Ω–µ–ª—å:

```promql
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ UNKNOWN –º–µ—Ç—Ä–∏–∫
count({__name__=~"huawei_unknown_.*"})

# –°–ø–∏—Å–æ–∫ UNKNOWN —Ä–µ—Å—É—Ä—Å–æ–≤
count by(Resource) ({Resource=~"UNKNOWN_.*"})
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
#!/bin/bash
# auto_update_pipeline.sh

LOG_FILE="streaming_pipeline.log"
THRESHOLD=10  # –ï—Å–ª–∏ –±–æ–ª—å—à–µ 10 UNKNOWN - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç

# –ó–∞–ø—É—Å—Ç–∏—Ç—å pipeline
python3 huawei_streaming_pipeline.py -i "$1" --monitor

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UNKNOWN
UNKNOWN_COUNT=$(grep -c "unknown.*IDs" "$LOG_FILE")

if [ "$UNKNOWN_COUNT" -gt "$THRESHOLD" ]; then
    echo "‚ö†Ô∏è  Found $UNKNOWN_COUNT unknown IDs! Manual review needed."
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    # curl -X POST https://hooks.slack.com/... -d "text=Unknown IDs detected"
fi
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 1. UNKNOWN –ù–ï –¢–ï–†–Ø–Æ–¢–°–Ø!

–†–∞–Ω—å—à–µ (–±–µ–∑ —É–ª—É—á—à–µ–Ω–∏–π):
```
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π ID ‚Üí ‚ùå –ü—Ä–æ–ø—É—â–µ–Ω ‚Üí ‚ùå –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
```

–¢–µ–ø–µ—Ä—å (—Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏):
```
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π ID ‚Üí ‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ VM ‚Üí ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ ‚Üí ‚úÖ –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏
```

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Å—Ç—Ä–∞–¥–∞–µ—Ç

–û–±—Ä–∞–±–æ—Ç–∫–∞ UNKNOWN **–Ω–µ –≤–ª–∏—è–µ—Ç** –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –¢–µ –∂–µ ~86K –º–µ—Ç—Ä–∏–∫/—Å–µ–∫
- ‚úÖ –¢–∞ –∂–µ –ø–∞–º—è—Ç—å (~0.2-0.3 GB)
- ‚úÖ –¢–æ –∂–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### 3. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π:
- üìä –°—Ç–∞—Ä—ã–µ UNKNOWN –º–µ—Ç—Ä–∏–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ VM (—Å –∏–º–µ–Ω–∞–º–∏ `unknown_*`)
- üìä –ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞
- üìä –ù–∏–∫–∞–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –§–ê–ô–õ–´

- `huawei_streaming_pipeline.py` - –û—Å–Ω–æ–≤–Ω–æ–π streaming pipeline ‚úÖ
- `Data2csv/Huawei_perf_parser_v0.2_parallel.py` - CSV –ø–∞—Ä—Å–µ—Ä
- `Data2csv/update_dictionaries.py` - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π
- `Data2csv/METRIC_DICT.py` - –°–ª–æ–≤–∞—Ä—å –º–µ—Ç—Ä–∏–∫ (743)
- `Data2csv/RESOURCE_DICT.py` - –°–ª–æ–≤–∞—Ä—å —Ä–µ—Å—É—Ä—Å–æ–≤ (51)

---

## ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

–í–∞—à streaming pipeline —Ç–µ–ø–µ—Ä—å:

1. ‚úÖ **–ù–µ —Ç–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ** (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ ID)
2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç** –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ ID
3. ‚úÖ **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å—ë –≤ VM** (–≤–∫–ª—é—á–∞—è UNKNOWN)
4. ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º** —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π
5. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω** —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á!** üöÄ

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 16 –æ–∫—Ç—è–±—Ä—è 2025*

