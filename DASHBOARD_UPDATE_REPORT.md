# –û—Ç—á–µ—Ç –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞—à–±–æ—Ä–¥–∞ Grafana

**–î–∞—Ç–∞**: 16 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Å–µ–∫—Ü–∏–∏ –¥–ª—è FC Port –∏ Snapshot LUN  
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å–µ–∫—Ü–∏–∏ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –º–µ—Ç—Ä–∏–∫

---

## üìä –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### ‚úÖ FC Port (47 panels)

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–µ–∫—Ü–∏—è –¥–ª—è FC Port —Å–æ –≤—Å–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏:

**Performance Metrics:**
- Average DataTurbo I/O response time
- Avg. I/O Response Time
- Service Time
- Max. I/O Response Time
- Queue length

**Bandwidth & IOPS:**
- Block bandwidth
- Read bandwidth
- Write bandwidth
- Total IOPS
- Read IOPS
- Write IOPS
- Max. IOPS

**DataTurbo Metrics:**
- DataTurbo Read Bandwidth
- DataTurbo Write Bandwidth
- Total DataTurbo Bandwidth
- Total DataTurbo OPS
- DataTurbo Read OPS
- DataTurbo Write OPS

**I/O Size Distribution:**
- Avg. I/O size
- Avg. read I/O size
- Avg. write I/O size
- Read I/O Granularity Distribution (7 —Ä–∞–∑–º–µ—Ä–æ–≤)
- Write I/O Granularity Distribution (7 —Ä–∞–∑–º–µ—Ä–æ–≤)

**Latency:**
- Avg. Read I/O Link Transmission Latency
- Avg. Write I/O Link Transmission Latency
- Average DataTurbo read/write I/O response time

**Utilization:**
- Usage (%)
- Ratio of read I/Os to total I/Os
- Ratio of write I/Os to total I/Os

---

### ‚úÖ Snapshot LUN (3 panels)

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –¥–ª—è Snapshot LUN —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏:

1. **Read requests to the snapshot LUN**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —á—Ç–µ–Ω–∏—è –∫ snapshot LUN

2. **Read requests redirected to the source LUN**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É LUN

3. **Write requests to the snapshot LUN**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞–ø–∏—Å–∏ –∫ snapshot LUN

---

## üìã –¢–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π –¥–∞—à–±–æ—Ä–¥–∞

| ‚Ññ | –°–µ–∫—Ü–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–Ω–µ–ª–µ–π | –°—Ç–∞—Ç—É—Å |
|---|--------|-------------------|--------|
| 1 | üìä Controller | 103 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 2 | üìä Controller NFSV3 | 52 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 3 | üìä Controller NFSV4 | 52 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 4 | üìä Controller NFSV4.1 | 52 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 5 | üìä Controller SMB2/3 | 52 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 6 | üìä Disk | 36 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 7 | üìä Disk Domain | 45 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 8 | üìä ETH_EXP_Port | 4 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 9 | üìä Ethernet Port | 69 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 10 | üìä Host | 55 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 11 | üìä LUN | 101 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 12 | üìä LUN Priority | 12 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 13 | üìä Logical Port | 58 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 14 | üìä Storage Pool | 84 | ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ |
| 15 | **üìä FC Port** | **47** | **üÜï –î–æ–±–∞–≤–ª–µ–Ω–∞** |
| 16 | **üìä Snapshot LUN** | **3** | **üÜï –î–æ–±–∞–≤–ª–µ–Ω–∞** |

**–ò—Ç–æ–≥–æ**: 16 —Å–µ–∫—Ü–∏–π, 775 –ø–∞–Ω–µ–ª–µ–π

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `grafana/provisioning/dashboards/Huawei-OceanStor-Real-Data.json`
- –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø: `Huawei-OceanStor-Real-Data.json.backup`

### –°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã:
1. `add_missing_dashboards.py` - –ø–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ API (–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª –∏–∑-–∑–∞ provisioning)
2. `update_dashboard_file.py` - —É—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –Ω–∞–ø—Ä—è–º—É—é ‚úÖ

### –î–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
1. ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω CSV —Ñ–∞–π–ª –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
2. ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω—ã –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è FC Port (47) –∏ Snapshot LUN (3)
3. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞–Ω–µ–ª–µ–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª –¥–∞—à–±–æ—Ä–¥–∞ –Ω–∞–ø—Ä—è–º—É—é
5. ‚úÖ Grafana –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Å–µ–∫—Ü–∏–π –≤ –¥–∞—à–±–æ—Ä–¥–µ

---

## üìà –ü–æ–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ë—ã–ª–æ (–∏–∑ CSV):
- 14 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- 226 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫

### –í –¥–∞—à–±–æ—Ä–¥–µ –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
- 14 —Å–µ–∫—Ü–∏–π (–Ω–æ –±–µ–∑ FC Port –∏ Snapshot LUN)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ–∫—Ü–∏–∏ (Ethernet Port, Logical Port) –Ω–µ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –í –¥–∞—à–±–æ—Ä–¥–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
- ‚úÖ **16 —Å–µ–∫—Ü–∏–π** (–≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –ø–æ–∫—Ä—ã—Ç—ã)
- ‚úÖ **FC Port**: 47 –ø–∞–Ω–µ–ª–µ–π –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ **Snapshot LUN**: 3 –ø–∞–Ω–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ **775 –ø–∞–Ω–µ–ª–µ–π** –≤—Å–µ–≥–æ

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ!

**–û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ**: FC Port - —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π —Ä–µ—Å—É—Ä—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ SAN-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ 47 –º–µ—Ç—Ä–∏–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–æ–≤
- –ó–∞–¥–µ—Ä–∂–µ–∫
- –ü—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- DataTurbo –æ–ø–µ—Ä–∞—Ü–∏–π

**Snapshot LUN** - —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ snapshot'–∞–º–∏ –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

## üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ Grafana: http://localhost:3000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∞—à–±–æ—Ä–¥ "Huawei OceanStor - Real Data"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—Å—É—Ä—Å "FC Port" –∏–ª–∏ "Snapshot LUN" –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **Resource**
4. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **Element**
5. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å–µ–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç—Ä–∏–∫

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ FC Port
curl -s 'http://localhost:8428/api/v1/series?match[]=huawei_usage_percent{Resource="FC Port"}&start=1760310000&end=1760400000' | jq '.data | length'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Snapshot LUN
curl -s 'http://localhost:8428/api/v1/series?match[]=huawei_read_requests_to_the_snapshot_lun&start=1760310000&end=1760400000' | jq '.data | length'
```

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ  
**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: –í—Å–µ –Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ –≤–∏–¥–Ω—ã –≤ Grafana

