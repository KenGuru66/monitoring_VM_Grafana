# STREAMING PIPELINE - –ê–Ω–∞–ª–∏–∑ –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üéØ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Pipeline

**–§–∞–π–ª:** `huawei_streaming_pipeline.py`

**–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:** `/data/perf_logs/(10.7.39.180)ch4-osd8kv6-93-lt_Perf_1725815376268.zip`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ò–∑ –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ:
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:** 1983+ .tgz —Ñ–∞–π–ª–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 50,000 - 76,000 metrics/sec –Ω–∞ worker
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ workers:** 14 (CPU count - 2 –Ω–∞ —Å–∏—Å—Ç–µ–º–µ —Å 16 cores)

### –ù–∞–±–ª—é–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ —Ñ–∞–π–ª–∞–º

–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–æ–≥–∞:
```
186,300 metrics in 3.7s (50,794 m/s)  - –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã OceanStor
113,040 metrics in 1.8s (63,789 m/s)  - —Å—Ä–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã
15,120 metrics in 0.2s (75,652 m/s)   - –º–∞–ª–µ–Ω—å–∫–∏–µ DAE —Ñ–∞–π–ª—ã
111,780 metrics in 1.7s (65,266 m/s)  - —Å—Ä–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã
```

**–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å:** ~60,000-65,000 metrics/sec –Ω–∞ worker

**–° 14 workers:** ~840,000 - 910,000 metrics/sec —Å—É–º–º–∞—Ä–Ω–æ

## üîç –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **STREAMING –æ–±—Ä–∞–±–æ—Ç–∫–∞**
   - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã Python (yield) –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏
   - –î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–∞—Ç—á–∞–º–∏ –∏ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ VM
   - –ù–ï–¢ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö CSV —Ñ–∞–π–ª–æ–≤

2. **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**
   - Multiprocessing Pool –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ .tgz —Ñ–∞–π–ª–æ–≤
   - –ö–∞–∂–¥—ã–π worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–≤–æ–π —Ñ–∞–π–ª
   - Auto-detection –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ workers

3. **Batching**
   - Default batch size: 50,000 –º–µ—Ç—Ä–∏–∫
   - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ VictoriaMetrics
   - –ú–∏–Ω–∏–º—É–º HTTP overhead

4. **Memory Management**
   - –î–∞–Ω–Ω—ã–µ –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–∞—Ç—á–∞
   - –î–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É
   - –ù–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏

## üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### Memory

**–û—Ü–µ–Ω–∫–∞ –¥–ª—è –æ–≥—Ä–æ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (500GB):**

```
Memory per worker = Batch size * Average metric size
                  = 50,000 * ~150 bytes
                  = ~7.5 MB per worker

Total memory (14 workers) = 14 * 7.5 MB = ~105 MB –¥–ª—è –±–∞—Ç—á–µ–π
+ Overhead (–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è, –ø–∞—Ä—Å–∏–Ω–≥) = ~200-300 MB per worker
Total: ~3-4 GB –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

**–í—ã–≤–æ–¥:** –§–∞–π–ª 500GB –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–µ —Å 8-16 GB RAM!

### CPU

**–ù–∞–±–ª—é–¥–∞–µ–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –í—Å–µ 16 cores –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ 95-100%
- User-space (–∑–µ–ª—ë–Ω—ã–π): –ø–∞—Ä—Å–∏–Ω–≥, Python
- System (–∫—Ä–∞—Å–Ω—ã–π): I/O, –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è, network

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è 500GB+ —Ñ–∞–π–ª–æ–≤

### 1. –£–∑–∫–∏–µ –º–µ—Å—Ç–∞ (Bottlenecks)

#### A. VictoriaMetrics Write Speed
**–¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:** ~900k metrics/sec (—Å 14 workers)

**–î–ª—è 40 –º–ª—Ä–¥ —Å—Ç—Ä–æ–∫:**
```
Time = 40,000,000,000 / 900,000 = ~44,444 —Å–µ–∫—É–Ω–¥ = ~12.3 —á–∞—Å–∞
```

**–£–ó–ö–û–ï –ú–ï–°–¢–û #1:** –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –≤ VictoriaMetrics

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å batch size –¥–æ 100,000
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VictoriaMetrics: `-maxInsertRequestSize` –∏ `-maxLabelsPerTimeseries`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é VM (–Ω–µ —É–¥–∞–ª—ë–Ω–Ω—É—é)

#### B. Disk I/O (–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è .tgz)
**–£–ó–ö–û–ï –ú–ï–°–¢–û #2:** –°–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- NVMe SSD –¥–ª—è temp —Ñ–∞–π–ª–æ–≤
- tmpfs (RAM disk) –¥–ª—è –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏
- Parallel decompress

#### C. Network (–µ—Å–ª–∏ VM —É–¥–∞–ª—ë–Ω–Ω—ã–π)
**–£–ó–ö–û–ï –ú–ï–°–¢–û #3:** –°–µ—Ç–µ–≤–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
- –õ–æ–∫–∞–ª—å–Ω—ã–π VictoriaMetrics
- 10 Gbit/s —Å–µ—Ç—å –º–∏–Ω–∏–º—É–º
- Compression –¥–ª—è HTTP

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –î–ª—è —Å–∏—Å—Ç–µ–º—ã —Å 16 CPU, 32 GB RAM

```bash
# –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
--workers 12              # –ù–µ–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ –¥–ª—è stability
--batch-size 75000        # –ë–æ–ª—å—à–µ = –º–µ–Ω—å—à–µ HTTP calls
--all-metrics             # –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏

# VictoriaMetrics settings
-memory.allowedPercent=70
-maxInsertRequestSize=100MB
```

**–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:** ~1.0 - 1.2 million metrics/sec

**–í—Ä–µ–º—è –¥–ª—è 40 –º–ª—Ä–¥:** ~9-11 —á–∞—Å–æ–≤

#### –î–ª—è —Å–∏—Å—Ç–µ–º—ã —Å 32+ CPU, 64 GB RAM

```bash
--workers 24              # –ë–æ–ª—å—à–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
--batch-size 100000       # –ú–∞–∫—Å–∏–º—É–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
--all-metrics
```

**–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:** ~1.8 - 2.2 million metrics/sec

**–í—Ä–µ–º—è –¥–ª—è 40 –º–ª—Ä–¥:** ~5-6 —á–∞—Å–æ–≤

#### –î–ª—è —Å–∏—Å—Ç–µ–º—ã —Å tmpfs (RAM disk)

```bash
# –°–æ–∑–¥–∞—Ç—å RAM disk –¥–ª—è temp —Ñ–∞–π–ª–æ–≤
sudo mount -t tmpfs -o size=4G tmpfs /tmp/huawei_temp

# –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å pipeline:
temp_file_path = Path("/tmp/huawei_temp") / f"temp_{os.getpid()}..."
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** +30-40% –Ω–∞ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏

### 3. VictoriaMetrics –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –í docker-compose.yml –¥–ª—è victoriametrics
command:
  - --storageDataPath=/vmdata
  - --retentionPeriod=500d
  - --maxInsertRequestSize=128MB        # –£–≤–µ–ª–∏—á–∏—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∞—Ç—á–µ–π
  - --maxLabelsPerTimeseries=50         # –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è Huawei
  - -memory.allowedPercent=70           # 70% –ø–∞–º—è—Ç–∏ –¥–ª—è VM
  - -search.maxConcurrentRequests=16    # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  - -insert.maxQueueDuration=30s        # –ë—É—Ñ–µ—Ä –¥–ª—è –ø–∏–∫–æ–≤
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–î–æ–±–∞–≤–∏—Ç—å –≤ pipeline:

```python
if PSUTIL_AVAILABLE:
    # –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
    if time.time() - last_report > 10:
        mem = psutil.Process().memory_info().rss / (1024**3)
        cpu = psutil.cpu_percent()
        logger.info(f"üìä Memory: {mem:.2f}GB | CPU: {cpu:.1f}%")
```

### 5. Split –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞

–ï—Å–ª–∏ 500GB —ç—Ç–æ –æ–¥–∏–Ω ZIP:

```bash
# –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ 50GB
split -b 50G huge_file.zip part_

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
for part in part_*; do
    python3 huawei_streaming_pipeline.py -i $part &
done
wait
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** Linear scaling —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: OLD vs STREAMING Pipeline

### OLD Pipeline (—Å CSV –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ .tgz     ‚îÇ -> ‚îÇ CSV (500GB) ‚îÇ -> ‚îÇ VictoriaM    ‚îÇ
‚îÇ —Ñ–∞–π–ª—ã    ‚îÇ    ‚îÇ –Ω–∞ –¥–∏—Å–∫–µ    ‚îÇ    ‚îÇ (–∏–º–ø–æ—Ä—Ç)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–í—Ä–µ–º—è: –ü–∞—Ä—Å–∏–Ω–≥ + –ó–∞–ø–∏—Å—å CSV + –ß—Ç–µ–Ω–∏–µ CSV + –ò–º–ø–æ—Ä—Ç
–î–∏—Å–∫:  500GB+ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
–ü–∞–º—è—Ç—å: –ë–∞—Ç—á–∏ CSV –≤ –ø–∞–º—è—Ç–∏
```

### STREAMING Pipeline (–Ω–æ–≤—ã–π)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ .tgz     ‚îÇ -> ‚îÇ VictoriaM    ‚îÇ
‚îÇ —Ñ–∞–π–ª—ã    ‚îÇ    ‚îÇ (–ø—Ä—è–º–æ)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–í—Ä–µ–º—è: –ü–∞—Ä—Å–∏–Ω–≥ + –ò–º–ø–æ—Ä—Ç (–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
–î–∏—Å–∫:  0 GB –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
–ü–∞–º—è—Ç—å: –¢–æ–ª—å–∫–æ –±–∞—Ç—á–∏ (7-10 MB per worker)
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** ~2-2.5x
**–≠–∫–æ–Ω–æ–º–∏—è –¥–∏—Å–∫–∞:** 500GB+

## ‚úÖ –í—ã–≤–æ–¥—ã –∏ –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –≤–∞—à–∏—Ö 500GB+ —Ñ–∞–π–ª–æ–≤

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ streaming pipeline** - —ç–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏
2. **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** 32 CPU, 64 GB RAM, NVMe SSD
3. **–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è:** 5-12 —á–∞—Å–æ–≤ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∂–µ–ª–µ–∑–∞)
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:** 3-6 GB (–Ω–µ –ø—Ä–æ–±–ª–µ–º–∞!)

### –£–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

1. **VictoriaMetrics write speed** - –≥–ª–∞–≤–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
   - –†–µ—à–µ–Ω–∏–µ: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VM, batch size, –ª–æ–∫–∞–ª—å–Ω—ã–π VM
   
2. **Disk I/O (–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è)** - –≤—Ç–æ—Ä–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
   - –†–µ—à–µ–Ω–∏–µ: NVMe, tmpfs, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

3. **CPU** - –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (16 cores –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

4. **Memory** - –ù–ï –ø—Ä–æ–±–ª–µ–º–∞!
   - Streaming –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <5 GB

### –ì–æ—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–ª—è production

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VictoriaMetrics
# (—Å–º. docker-compose.yml —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤—ã—à–µ)

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å streaming pipeline
python3 huawei_streaming_pipeline.py \
  -i /path/to/huge_500gb_file.zip \
  --vm-url http://localhost:8428/api/v1/import/prometheus \
  --batch-size 100000 \
  --workers 24 \
  --all-metrics \
  --monitor

# 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
tail -f streaming_pipeline.log

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
curl http://localhost:8428/api/v1/label/SN/values?start=1577836800
```

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –û–ß–ï–ù–¨ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

–ï—Å–ª–∏ —Ñ–∞–π–ª > 1 TB:

```bash
# Option 1: Split + parallel processing
split -b 100G huge.zip part_
for f in part_*; do 
    python3 huawei_streaming_pipeline.py -i $f --workers 12 & 
done

# Option 2: Distributed processing
# –†–∞–∑–Ω—ã–µ –º–∞—à–∏–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏
# –í—Å–µ –ø–∏—à—É—Ç –≤ –æ–¥–∏–Ω VictoriaMetrics cluster
```

## üöÄ Next Steps

1. ‚úÖ **Streaming pipeline —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω**
2. ‚è≠Ô∏è **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å VictoriaMetrics** (settings –≤—ã—à–µ)
3. ‚è≠Ô∏è **–î–æ–±–∞–≤–∏—Ç—å tmpfs** –¥–ª—è –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. ‚è≠Ô∏è **–ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –ø–æ–ª–Ω–æ–º —Ñ–∞–π–ª–µ** 500GB
5. ‚è≠Ô∏è **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏ —Å–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏**

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 2025-10-06  
**–í–µ—Ä—Å–∏—è:** 1.0
