# Huawei Storage Performance Monitoring

**Full-stack web application** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö Huawei OceanStor.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

1. **Parse ‚Üí Grafana**  
   –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫ –≤ VictoriaMetrics –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Grafana
   - –ü—Ä—è–º–æ–π streaming –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–≥—Ä–æ–º–Ω—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤ (500GB+, 40+ –º–ª—Ä–¥ —Å—Ç—Ä–æ–∫)
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ .tgz —Ñ–∞–π–ª–æ–≤
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

2. **Parse ‚Üí CSV (Wide Format)**  
   –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —à–∏—Ä–æ–∫–∏–π CSV —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel/Python
   - –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ = –æ–¥–∏–Ω timestamp
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º worker'–æ–≤

3. **Parse ‚Üí CSV (Perfmonkey Format)**  
   –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å perfmonkey
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, Disk, LUN, Pool –∏ —Ç.–¥.)
   - 8 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö CSV —Ñ–∞–π–ª–æ–≤
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ä–µ—Å—É—Ä—Å–∞

### üöÄ Multi-threaded Compression
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ 16 –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è —Å–∂–∞—Ç–∏—è CSV —Ñ–∞–π–ª–æ–≤
- –ù–∞ —Å–∏—Å—Ç–µ–º–µ —Å 32 vCPU: **~16x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
- –£—Ä–æ–≤–µ–Ω—å —Å–∂–∞—Ç–∏—è: 6 (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/—Ä–∞–∑–º–µ—Ä)

### üåê Web Interface
- **Home Page:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ CSV jobs
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –º–∞—Å—Å–∏–≤–æ–≤ –≤ VictoriaMetrics
  - **üÜï –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Data Collection Interval** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
  - **üÜï –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω**: –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –≤ Grafana —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–¥–∞—á–µ–π:
    - `min_interval` (–∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö: 5s/1m/5m –∏ —Ç.–¥.)
    - `from` –∏ `to` (–Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö)
    - –ù–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é - Grafana —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ!
  - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö CSV processing jobs
  - Download —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  - –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∞–π–ª–æ–≤
  
- **Upload Page:** –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤
  - Drag & Drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (Grafana/CSV Wide/CSV Perfmonkey)
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - Real-time —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

### üìä Grafana Dashboards
- **16 pre-configured —Å–µ–∫—Ü–∏–π** —Å 775+ –ø–∞–Ω–µ–ª—è–º–∏
- **üÜï Smooth Graphs:** –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ `$min_interval` –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  - Dashboard variable –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ (5s/15s/30s/1m/5m/15m/30m/1h)
  - Smooth line interpolation –¥–ª—è bandwidth –º–µ—Ç—Ä–∏–∫
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ "—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã—Ö" –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ä–µ—Å—É—Ä—Å–æ–≤:
  - Controller (—Å NFSV3/V4/V4.1, SMB2/3)
  - Disk, Disk Domain
  - FC Port (47 –º–µ—Ç—Ä–∏–∫) üÜï
  - ETH_EXP_Port, Ethernet Port, Logical Port
  - Host, LUN, LUN Priority
  - Snapshot LUN (3 –º–µ—Ç—Ä–∏–∫–∏) üÜï
  - Storage Pool

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Docker** >= 20.10
- **Docker Compose** >= 2.0
- **–°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ:** ~20GB –¥–ª—è –æ–±—Ä–∞–∑–æ–≤ Docker
- **RAM:** –ú–∏–Ω–∏–º—É–º 4GB, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8GB+
- **CPU:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4+ —è–¥–µ—Ä –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd monitoring_VM_Grafana
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

```bash
# VictoriaMetrics
VM_URL=http://victoriametrics:8428
VM_IMPORT_URL=http://victoriametrics:8428/api/v1/import/prometheus

# Grafana
GRAFANA_URL=http://localhost:3000

# API Settings
MAX_UPLOAD_SIZE=10737418240  # 10GB
JOB_TIMEOUT=86400            # 24 hours
JOB_TTL_HOURS=24             # Auto-cleanup after 24 hours

# Work directory for CSV files
WORK_DIR=/app/jobs
```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
docker compose up -d
```

–°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞:
- **Web UI:** http://localhost:3001
- **API:** http://localhost:8000
- **Grafana:** http://localhost:3000 (admin/changeme)
- **VictoriaMetrics:** http://localhost:8428

### 4. –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Upload**
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ ZIP –∞—Ä—Ö–∏–≤ —Å —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Huawei
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏:
   - **Parse ‚Üí Grafana** - –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - **Parse ‚Üí CSV (Wide)** - –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —à–∏—Ä–æ–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
   - **Parse ‚Üí CSV (Perfmonkey)** - –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ perfmonkey —Ñ–æ—Ä–º–∞—Ç–µ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
monitoring_VM_Grafana/
‚îú‚îÄ‚îÄ api/                          # FastAPI backend
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt          # Python dependencies
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ web/                          # React frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx              # Main app component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx             # Home page (arrays & CSV jobs)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Upload.tsx           # Upload page
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.css              # Styles
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ Data2csv/                     # CSV parser (Wide format)
‚îÇ   ‚îú‚îÄ‚îÄ Huawei_perf_parser_v0.2_parallel.py
‚îÇ   ‚îú‚îÄ‚îÄ METRIC_DICT.py           # 743 –º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ RESOURCE_DICT.py         # 51 —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ METRIC_CONVERSION.py     # 49 –º–µ—Ç—Ä–∏–∫ —Å –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π –µ–¥–∏–Ω–∏—Ü üÜï
‚îú‚îÄ‚îÄ perfmonkey/                   # Perfmonkey format parser
‚îÇ   ‚îî‚îÄ‚îÄ perf_zip2csv_wide.py
‚îú‚îÄ‚îÄ grafana/                      # Grafana provisioning
‚îÇ   ‚îú‚îÄ‚îÄ dashboards/
‚îÇ   ‚îî‚îÄ‚îÄ datasources/
‚îú‚îÄ‚îÄ huawei_streaming_pipeline.py  # Streaming to VictoriaMetrics
‚îú‚îÄ‚îÄ docker-compose.yml            # Docker orchestration
‚îî‚îÄ‚îÄ README.md                     # This file
```

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **Web (Nginx + React)**
   - Single Page Application
   - Responsive UI —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π drag & drop
   - Real-time —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

2. **API (FastAPI + Python 3.11)**
   - RESTful API endpoints
   - Background task processing —Å ThreadPoolExecutor
   - Multi-threaded CSV compression
   - Automatic job cleanup (24h TTL)

3. **VictoriaMetrics**
   - Time-series database –¥–ª—è –º–µ—Ç—Ä–∏–∫
   - High-performance —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Prometheus API

4. **Grafana**
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
   - Pre-configured dashboards
   - Data source –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### Workflow –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### –†–µ–∂–∏–º Grafana:
```
ZIP Upload ‚Üí Extract .tgz ‚Üí Parse Binary ‚Üí Stream to VictoriaMetrics ‚Üí Visualize in Grafana
```

#### –†–µ–∂–∏–º CSV:
```
ZIP Upload ‚Üí Extract .tgz ‚Üí Parse Binary ‚Üí Generate CSV ‚Üí Multi-threaded Compression ‚Üí Download
```

## üìä API Endpoints

### Upload & Processing

```bash
# Upload archive and start processing
POST /api/upload
  - file: ZIP archive (multipart/form-data)
  - target: "grafana" | "csv" | "perfmonkey"

# Get processing status
GET /api/status/{job_id}

# Get list of all jobs
GET /api/jobs
```

### Arrays Management (VictoriaMetrics)

```bash
# List all arrays with metadata (includes scrape_interval)
GET /api/arrays
# Response example:
# {
#   "arrays": ["SN1", "SN2"],
#   "arrays_metadata": [
#     {"sn": "SN1", "scrape_interval": "1m"},
#     {"sn": "SN2", "scrape_interval": "5m"}
#   ],
#   "total": 2
# }

# Delete specific array
DELETE /api/arrays/{serial_number}

# Delete all arrays
DELETE /api/arrays
```

### CSV Files Management

```bash
# List all CSV processing jobs
GET /api/csv-jobs

# Get files for specific job
GET /api/files/{job_id}

# Download specific file
GET /api/file/{job_id}/{filename}

# Delete all files for job
DELETE /api/files/{job_id}
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker compose logs -f api
docker compose logs -f web
docker compose logs -f victoriametrics
docker compose logs -f grafana
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down

# –ó–∞–ø—É—Å–∫
docker compose up -d

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker compose build
docker compose up -d
```

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (–≤–∫–ª—é—á–∞—è volumes)
docker compose down -v

# –£–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ VictoriaMetrics –¥–∞–Ω–Ω—ã–µ
docker volume rm monitoring_vm_grafana_vm_data

# –£–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ CSV job —Ñ–∞–π–ª—ã
docker volume rm monitoring_vm_grafana_jobs_data
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Grafana dashboards

```bash
# Dashboards –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤
./grafana/dashboards/

# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
docker compose restart grafana
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# API health check
curl http://localhost:8000/health

# VictoriaMetrics
curl http://localhost:8428/-/healthy

# –°–ø–∏—Å–æ–∫ –º–µ—Ç—Ä–∏–∫ –≤ VM
curl http://localhost:8428/api/v1/label/SN/values
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. –û—à–∏–±–∫–∞ "File too large"**
```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ MAX_UPLOAD_SIZE –≤ .env
MAX_UPLOAD_SIZE=21474836480  # 20GB
docker compose restart api
```

**2. –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Grafana**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ VictoriaMetrics
curl "http://localhost:8428/api/v1/label/SN/values?start=1577836800"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ streaming pipeline
docker compose logs api | grep "STREAMING PIPELINE"
```

**3. CSV —Ñ–∞–π–ª—ã –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
docker compose logs api | grep "Compressing"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤
docker exec monitoring_vm_grafana-api-1 ls -lah /app/jobs/
```

## üîÑ Metric Unit Conversions

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫, –∫–æ–≥–¥–∞ —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `.dat` —Ñ–∞–π–ª–∞—Ö –∏–º–µ—é—Ç –¥—Ä—É–≥–∏–µ –µ–¥–∏–Ω–∏—Ü—ã, —á–µ–º —É–∫–∞–∑–∞–Ω–æ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫–∏.

### METRIC_CONVERSION.py

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –∫–æ–Ω–≤–µ—Ä—Å–∏–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `Data2csv/METRIC_CONVERSION.py`:

**Bandwidth –º–µ—Ç—Ä–∏–∫–∏** (KB/s ‚Üí MB/s, –¥–µ–ª–∏–º –Ω–∞ 1024):
- `311`, `312`, `313`: Throughput, Read/Write throughput
- `511`, `512`: File bandwidth, Throughput

**Latency –º–µ—Ç—Ä–∏–∫–∏** (us ‚Üí ms, –¥–µ–ª–∏–º –Ω–∞ 1000):
- `369-385`: Service Time, I/O Response Time
- `429`, `472`, `509`, `510`: Max/Min Latency For Operations
- `508`: Average Latency For Operations
- `523-525`: Service time, Read/Write OPS Response Time
- `745-807`: NFS/CIFS I/O Response Time, Back-End Response Time
- `1139-1319`: Link Transmission Latency, Command Response Time
- `30013`, `30015`: NFS OPS Response Time

**–í—Å–µ–≥–æ: 49 –º–µ—Ç—Ä–∏–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π**

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–π

```bash
cd Data2csv
python3 METRIC_CONVERSION.py
```

–í—ã–≤–µ–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ —Å –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ —Ç–∏–ø–∞–º.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–Ω–≤–µ—Ä—Å–∏–π

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –º–µ—Ç—Ä–∏–∫–∏ —Å –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `Data2csv/METRIC_CONVERSION.py`
2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å–µ–∫—Ü–∏—é:
   ```python
   "metric_id": –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç,  # –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
   ```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª - –æ–±–∞ –ø–∞—Ä—Å–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å

## üéØ Intelligent Graph Rendering

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (scrape_interval) –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤ Grafana –±–µ–∑ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ**: 
   - –°–∫—Ä–∏–ø—Ç `huawei_streaming_pipeline.py` –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `.dat` —Ñ–∞–π–ª–∞
   - –î–æ–±–∞–≤–ª—è–µ—Ç label `scrape_interval="60"` (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) –∫ –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–µ
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ VictoriaMetrics —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ timestamps

2. **–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ**:
   - API –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `scrape_interval` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
   - API –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä–≤—ã–π –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π timestamp –¥–∞–Ω–Ω—ã—Ö (–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω)
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (60s ‚Üí 1m, 300s ‚Üí 5m)
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç timestamps –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –¥–ª—è Grafana
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç badge "‚è±Ô∏è Data Collection Interval: 1m" —Ä—è–¥–æ–º —Å SN

3. **–í Grafana**:
   - –ü—Ä–∏ –∫–ª–∏–∫–µ "Open in Grafana" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è:
     - `&var-min_interval=1m` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è smooth –≥—Ä–∞—Ñ–∏–∫–æ–≤)
     - `&from=1760911200000&to=1761044400000` (–Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü –¥–∞–Ω–Ω—ã—Ö –≤ milliseconds)
   - Dashboard –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `${min_interval}` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ step –≤ queries
   - Grafana —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
   - –ì—Ä–∞—Ñ–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–ª–∞–≤–Ω–æ –±–µ–∑ "—Å—Ç—É–ø–µ–Ω–µ–∫"
   - **–ù–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é!**

### –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞

–í Grafana dashboard –≤–≤–µ—Ä—Ö—É –µ—Å—Ç—å dropdown `min_interval` —Å –æ–ø—Ü–∏—è–º–∏:
- `5s`, `15s`, `30s` - –¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `1m`, `5m`, `15m`, `30m`, `1h` - –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º, –µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ.

### Troubleshooting "—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã—Ö" –≥—Ä–∞—Ñ–∏–∫–æ–≤

–ï—Å–ª–∏ –≥—Ä–∞—Ñ–∏–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç "—Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ" –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ scrape_interval**:
   ```bash
   curl "http://localhost:8428/api/v1/query_range?query=huawei_read_bandwidth_mb_s{SN=\"YOUR_SN\"}&start=$(date -d '7 days ago' +%s)&end=$(date +%s)&step=1d" | jq '.data.result[0].metric.scrape_interval'
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π min_interval** –≤ Grafana dashboard

3. **–î–ª—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö** (–±–µ–∑ scrape_interval label):
   - –£–¥–∞–ª–∏—Ç–µ –º–∞—Å—Å–∏–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –ü–µ—Ä–µ–ø–∞—Ä—Å–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º `huawei_streaming_pipeline.py`

## üìà Performance Tips

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

1. **–£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ workers** –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞:
   - CSV Wide: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è (cpu_count - 2)
   - Perfmonkey: `--workers 30` –≤ `api/main.py`

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSD** –¥–ª—è Docker volumes

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ VictoriaMetrics** –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
```yaml
# –≤ docker-compose.yml
victoriametrics:
  command:
    - --retentionPeriod=12  # –º–µ—Å—è—Ü–µ–≤
    - --maxLabelsPerTimeseries=50
    - --memory.allowedPercent=80
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò–∑–º–µ–Ω–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ Grafana
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reverse proxy (nginx) —Å HTTPS –≤ production
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º —á–µ—Ä–µ–∑ firewall
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ Docker –æ–±—Ä–∞–∑—ã

## üìù Changelog

### v2.2.0 (Current) - October 22, 2025
- ‚úÖ **Intelligent Graph Rendering**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ Grafana
  - **scrape_interval label**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (5s/15s/30s/1m/5m –∏ —Ç.–¥.) –∫ –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–µ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ
  - **Web UI Enhancement**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "‚è±Ô∏è Data Collection Interval" badge —Ä—è–¥–æ–º —Å –∫–∞–∂–¥—ã–º –º–∞—Å—Å–∏–≤–æ–º
  - **Auto min_interval**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ `$min_interval` –≤ URL Grafana –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ
  - **üÜï Auto Time Range**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞–Ω–Ω—ã—Ö
    - API –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π timestamp –∏–∑ VictoriaMetrics
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ `from` –∏ `to` –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ URL Grafana (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
    - Grafana —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ
    - –ù–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é!
  - **Dashboard Variable**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `$min_interval` –≤ Grafana –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (5s/15s/30s/1m/5m/15m/30m/1h)
  - **Smooth Graphs**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ "—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã—Ö" –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏
    - Smooth line interpolation –¥–ª—è bandwidth –º–µ—Ç—Ä–∏–∫
    - `spanNulls=true` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
  
- ‚úÖ **API Improvements**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `/api/arrays` endpoint –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è `scrape_interval` –∏–∑ VictoriaMetrics
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞–Ω–Ω—ã—Ö (`time_from`, `time_to`)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `series` API –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è labels –∏ `query_range` –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è —Å–µ–∫—É–Ω–¥ –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (60s ‚Üí 1m, 300s ‚Üí 5m)
  - –ö–æ–Ω–≤–µ—Ä—Å–∏—è timestamps –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –¥–ª—è Grafana (Unix epoch * 1000)
  
- ‚úÖ **Grafana Dashboard Updates**:
  - –í—Å–µ timeseries –ø–∞–Ω–µ–ª–∏ (775+) —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `${min_interval}` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ step
  - –§–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ä—Ö–Ω–µ–π –ø–ª–∞–Ω–∫–∏ 100% –¥–ª—è –≤—Å–µ—Ö "usage" –º–µ—Ç—Ä–∏–∫ (13 –ø–∞–Ω–µ–ª–µ–π)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã units –¥–ª—è latency –º–µ—Ç—Ä–∏–∫ (ms –≤–º–µ—Å—Ç–æ percent)

### v2.1.1 - October 21, 2025
- ‚úÖ **METRIC_CONVERSION.py**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
  - –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å `Data2csv/METRIC_CONVERSION.py`
  - 49 –º–µ—Ç—Ä–∏–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π –µ–¥–∏–Ω–∏—Ü
  - DRY –ø—Ä–∏–Ω—Ü–∏–ø: –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –æ–±–æ–∏—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
  - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏**:
  - **Bandwidth –º–µ—Ç—Ä–∏–∫–∏**: File bandwidth, Throughput (KB/s ‚Üí MB/s, √∑1024)
    - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 5 –º–µ—Ç—Ä–∏–∫: 311, 312, 313, 511, 512
    - –ë—ã–ª–æ: TB/s (–≤ 1024 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ) ‚ùå ‚Üí –°—Ç–∞–ª–æ: GB/s ‚úÖ
  
  - **Latency –º–µ—Ç—Ä–∏–∫–∏**: Average/Max/Min Latency (us ‚Üí ms, √∑1000)
    - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 44 –º–µ—Ç—Ä–∏–∫–∏: 369-385, 429, 472, 508-510, 523-525, 745-807, –∏ –¥—Ä.
    - –ë—ã–ª–æ: –æ–≥—Ä–æ–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞—Ö ‚ùå ‚Üí –°—Ç–∞–ª–æ: –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã ‚úÖ
  
- ‚úÖ **Grafana Dashboard –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω unit –¥–ª—è 12 –ø–∞–Ω–µ–ª–µ–π (percent ‚Üí ms)
  - Average Latency For Operations: 4 –ø–∞–Ω–µ–ª–∏ (NFSV3/V4/V4.1/SMB)
  - Max/Min Latency For Operations: 8 –ø–∞–Ω–µ–ª–µ–π
  - –¢–µ–ø–µ—Ä—å –≤—Å–µ latency –º–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
  
- ‚úÖ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞**:
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: ~110 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤ –¥–≤—É—Ö –ø–∞—Ä—Å–µ—Ä–∞—Ö
  - –£–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ `python3 METRIC_CONVERSION.py` –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### v2.1.0 - October 16, 2025
- ‚úÖ **Grafana Dashboards Update**: –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å–µ–∫—Ü–∏–∏
  - FC Port section (47 –º–µ—Ç—Ä–∏–∫)
  - Snapshot LUN section (3 –º–µ—Ç—Ä–∏–∫–∏)
  - –í—Å–µ–≥–æ: 16 —Å–µ–∫—Ü–∏–π, 775+ –ø–∞–Ω–µ–ª–µ–π
- ‚úÖ **Streaming Pipeline Verification**: –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è CSV
  - 100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
  - 2.4M —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞ 2.1 —Å–µ–∫
  - Throughput: 1.1M –º–µ—Ç—Ä–∏–∫/—Å–µ–∫

### v2.0.0
- ‚úÖ Multi-mode processing (Grafana/CSV Wide/CSV Perfmonkey)
- ‚úÖ Multi-threaded CSV compression (16 threads)
- ‚úÖ New Home page with arrays & CSV jobs management
- ‚úÖ Improved UI/UX with progress tracking
- ‚úÖ Automatic job cleanup (24h TTL)
- ‚úÖ HTTP Range support for large file downloads
- ‚úÖ Real-time file list polling for CSV jobs

### v1.0.0
- Initial release with Grafana integration

## üìû Support

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs -f`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ—Ä—Ç—ã —Å–≤–æ–±–æ–¥–Ω—ã: `8000, 8080, 3000, 8428`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ: `df -h`

## üìÑ License

Proprietary - Internal Use Only

---

**Made with ‚ù§Ô∏è for Huawei OceanStor Performance Analysis**
